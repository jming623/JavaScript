<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <h2>할일 목록 만들기</h2>

    <div class="nameForm">
        <h2 class="nameTitle"></h2>
        <input type="text" placeholder="이름을 입력하세요">
        <button type="button">확인</button>
    </div>

    <div class="todoForm">
        <input type="text" placeholder="할일을 작성하세요">
        <button type="button">확인</button>
    </div>

    <ul class="todoList">

    </ul>

    <script>
        /* 이름 */
        var nameForm = document.querySelector(".nameForm");
        var nameTitle = document.querySelector(".nameTitle");
        var nameInput = nameForm.querySelector("input"); /* 위에서 받아온 nameForm에 통해 접근 */
        var nameButton = nameForm.querySelector("button");
        
        nameButton.addEventListener("click",regist); //익명함수대신 아래 함수를 선언하고 여기서 호출

        function regist(){
            nameTitle.innerHTML = nameInput.value + "님 안녕하세요~?";
            //* 첫번째 방법 - input , buttob 태그를 remove()를 통해 삭제 */
            //nameInput.remove();
            //nameButton.remove();
            
            /* 두번째 방법 - style속성을 통해 display를 none으로 바꿔 삭제 */
            console.dir(nameInput); //nameInput에 접근해 사용할 수 있는 기능들을 모두보여줌.
            nameInput.style.display="none";
            nameButton.style.display="none";
        }

        /* 할일 */
        var todoForm = document.querySelector(".todoForm");
        var todoInput = todoForm.querySelector("input");
        var todoButton = todoForm.querySelector("button");
        var todoList = document.querySelector(".todoList");

        todoButton.addEventListener("click",createTodo);
        
        function createTodo(){
            var text = todoInput.value;
            todoInput.value=""; //input안에 값을 공백으로 초기화

            var li = document.createElement("li");
            li.innerHTML = text;
                        
            var button = document.createElement("button");
            button.innerHTML = "X";//여기 버튼안에서도 이벤트를 걸수가있다.
            button.addEventListener("click",deleteTodo);
            
            /* button.onclick = function(){
                if(confirm("삭제하시겠습니까?")){
                    console.log("삭제한다는데요?")
                }
            } */ //여기서 바로넣어줄수도 있고 아래에서 함수를 다시 선언해서 가져올수도있다.

            li.appendChild(button);
            todoList.appendChild(li);
        }

        //삭제기능
        function deleteTodo(){
            if(confirm("삭제하시겠습니까?")){
                    
                    /* 문제점 
                    1. x버튼클릭시 해당버튼 요소를 판별할 수 없음.
                    2. x버튼클릭시 부모요소인 li를 삭제해야함.                    
                    */

                }
        }

    </script>

</body>
</html>